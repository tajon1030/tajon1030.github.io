---
layout: post
title: React에 대한 개념 잡기
sitemap: false
hide_last_modified: true
---

## React란?
facebook에서 제공하는 자바스크립트 프론트엔드 라이브러리로
싱글 페이지 애플리케이션(SPA)이나 모바일 애플리케이션의 개발 시 토대로 사용된다.

### SPA (Single Page Application)
기존의 서버로부터 받은 리소스들과 데이터를 해석하고 화면에 렌더링하는 서버사이드 렌더링(SSR) 방식에서 벗어나, 브라우저에 최초에 한번 페이지 전체를 로드하고, 이후부터는 특정 부분만 데이터를 전달받아 바인딩하는 방식
쉽게 말해 jsp파일 없이 index.html파일 하나에서 js, css등 리소스 파일들과 모듈들을 로드하여 페이지 이동 없이 특정영역만 새로 모듈을 호출하고 데이터를 바인딩하는 개념이다.


### 리액트의 특징
- Component기반 구조
- 가상 DOM
- 단방향 DataFlow
- JSX


## Component기반 구조
Component란 독립적인 하나의 소프트웨어 모듈을 뜻하며, 웹 페이지에서 컴포넌트는 화면을 이루는 작은 요소들이다.
리액트는 한 페이지 내에서 여러 각 부분을 독립된 컴포넌트로 만들고, 이 컴포넌트를 조립해 화면을 구성하는 방식을 사용함으로서 전체코드의 파악이 쉬우며, 재사용성이 높아 유지보수와 관리가 용이하다는 장점을 가진다.


## 가상 DOM
### DOM 이란?
Document Object Model의 약자인 DOM은 웹 페이지를 이루는 태그들을 트리구조로 만든 객체 모델을 의미한다.

### 가상 DOM이 나오게 된 이유
결론부터 말하자면, 속도적인 부분과 많은 일을 수행하다 버그가 발생하거나 브라우저가 죽는 일 등의 단점을 개선하고자 가상돔(Virtual DOM)이 나왔다.

자바스크립트는 document라는 전역객체를 통해 html태그에 접근하여 태그를 조종하는데, 데이터를 표현하는 요소 개수가 많은 트위터나 페이스북 같이 규모가 큰 웹 어플리케이션에서 DOM에 직접 접근하여 변화를 주다 보면 렌더링이 일어 나는 과정에서 시간이 허비되는 단점이 있다.

- 렌더링: 
1. html파일과 css파일을 파싱해서 각각의 tree를 만들고(Parsing)  
2. 두 tree를 결합하여 render tree를 만들어(style)  
3. render tree에서 각 노드의 위치와 크기를 계산한뒤(layout)  
4. 계산된 값을 이용해 각 노드를 실제 픽셀로 변환하고 레이어를 만든 후(Paint)  
5. 레이어를 합성하여 실제화면에 나타내는(Composite) 과정

### 가상 DOM 이란?
위와같은 단점을 해결하기위해 나온 가상DOM은 실제 DOM에 접근하여 조작하는 대신, 이것을 추상화시킨 자바스크립트 객체를 이용해 사용하는 방식이다.

리액트에서 가상 DOM을 반영하는 절차는 다음과 같다.

1. 데이터가 업데이트 되면. 전체 UI를 가상돔에 리렌더링한 뒤  
2. 변화 전의 가상돔 내용과 현재 가상돔 내용끼리 비교하고  
3. 변경된 부분만 실제 돔에 렌더링한다.

리액트에서는 컴포넌트를 이용해 변경된 부분만 새로운 컴포넌트로 갈아 끼워준다. 이러한 방식은 일반 돔을 사용하는 렌더링 과정에 비해 돔 트리, 렌더 트리등을 생성하지 않기때문에 SPA 등 비동기적 서비스를 효율적으로 관리할 수 있다.

가상돔에 리렌더링을 한 뒤에 실제 돔에 렌더링 하면 오히려 절차만 늘어나는것이 아닌가 하는 의문이 들것이다.
물론 단순 라우팅 정도만 있는 정적인 페이지에는 리액트를 사용하지 않는 편이 더 나은 성능을 보이기도 하므로 적절한곳에 사용해야 한다.


## 단방향 DataFlow
데이터 흐름이 한 방향으로만 흐르는 단방향 데이터 흐름을 가진다.
데이터 흐름을 단방향으로 제한함으로서 데이터를 추적하기 쉽고 디버깅을 쉽게 해준다.


## JSX
React에서는 템플릿에 일반 JavaScript를 사용하는 대신 JSX를 사용한다.
JSX(JavaScript XML)는 Javascript에 XML을 추가한 확장한 문법으로, 리액트에서 element를 제공해 준다.




## 참고
[브라우저 렌더링 과정 이해하기](https://tecoble.techcourse.co.kr/post/2021-10-24-browser-rendering/)

[React이해하기1 - 가상DOM](https://moonsbeen.tistory.com/255)

[[React] 1. React 시작하기(2) - React의 주요 특징](https://goddaehee.tistory.com/295)